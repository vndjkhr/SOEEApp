@model SOEEApp.Models.ViewModels.SOEECreateViewModel

@{
    ViewBag.Title = "SOEE Details";
}

<h2>SOEE Details</h2>

<div class="row">
    <div class="col-md-4">
        @Html.Label("Project")
        <input type="text" class="form-control" value="@Model.Project.Name" readonly />
    </div>

    <div class="col-md-4">
        @Html.Label("Customer")
        <input type="text" class="form-control" value="@Model.Customer.CustomerName" readonly />
    </div>

    <div class="col-md-4">
        @Html.LabelFor(m => m.ReferenceNo)
        <input type="text" class="form-control" value="@Model.ReferenceNo" readonly />
    </div>
</div>

<br />

<div class="row">
    <div class="col-md-4">
        @Html.LabelFor(m => m.MarkTo)
        <input type="text" class="form-control" value="@Model.MarkTo" readonly />
    </div>

    <div class="col-md-4">
        @Html.LabelFor(m => m.Subject)
        <input type="text" class="form-control" value="@Model.Subject" readonly />
    </div>

    <div class="col-md-4">
        @Html.LabelFor(m => m.Reference)
        <input type="text" class="form-control" value="@Model.Reference" readonly />
    </div>
</div>

<br />

<div class="row">
    <div class="col-md-4">
        @Html.LabelFor(m => m.SOEERaiseDate)
        <input type="text" class="form-control" value="@Model.SOEERaiseDate.ToShortDateString()" readonly />
    </div>

    <div class="col-md-4">
        @Html.LabelFor(m => m.Content)
        <input type="text" class="form-control" value="@Model.Content" readonly />
    </div>

    <div class="col-md-4">
        @Html.LabelFor(m => m.Status)
        <input type="text" class="form-control" value="@Model.Status" readonly />
    </div>

</div>

<hr />

<h4>Service Entry Items</h4>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Description of Work</th>
            <th>Service Type</th>
            <th>Unit</th>
            <th>Quantity</th>
            <th>Unit Price</th>
            <th>Subtotal</th>
            <th>Service Charge %</th>
            <th>Service Charges</th>
            <th>Total After Service Charge</th>
            <th>CGST</th>
            <th>SGST</th>
            <th>Total</th>
        </tr>
    </thead>

    <tbody>
        @foreach (var item in Model.Items)
        {
            <tr>
                <td><input type="text" class="form-control" value="@item.DescriptionOfWork" readonly /></td>
                <td><input type="text" class="form-control" value="@item.ServiceTypeName" readonly /></td>
                <td><input type="number" class="form-control" value="@item.Unit" readonly /></td>
                <td><input type="number" class="form-control" value="@item.Quantity" readonly /></td>
                <td><input type="number" class="form-control" value="@item.UnitPrice" readonly /></td>
                <td><input type="text" class="form-control" value="@item.SubTotal.ToString("0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@item.ServiceChargePercent.ToString("0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@item.ServiceCharge.ToString("0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@(item.SubTotal + item.ServiceCharge).ToString(" 0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@item.CGST.ToString("0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@item.SGST.ToString("0.00")" readonly /></td>
                <td><input type="text" class="form-control" value="@item.Total.ToString("0.00")" readonly /></td>
            </tr>
        }
    </tbody>
</table>

<hr />

<div class="row">
    <div class="col-md-3">
        <label>Total Basic</label>
        <input type="text" class="form-control" value="@Model.TotalBasicAmount.ToString("0.00")" readonly />
    </div>

    <div class="col-md-3">
        <label>Total Service Charges</label>
        <input type="text" class="form-control" value="@Model.TotalServiceCharge.ToString("0.00")" readonly />
    </div>

    <div class="col-md-3">
        <label>Total Tax Amount</label>
        <input type="text" class="form-control" value="@Model.TotalTaxAmount.ToString("0.00")" readonly />
    </div>

    <div class="col-md-3">
        <label>Grand Total</label>
        <input type="text" class="form-control" value="@Model.GrandTotal.ToString("0.00")" readonly />
    </div>
</div>

<br>

<a href="@Url.Action("Edit", "SOEE", new { id = Model.SOEEID })" class="btn btn-primary">Edit SOEE</a>
<a href="@Url.Action("Index", "SOEE")" class="btn btn-default">Back to List</a>
